Banco de dados
XAMPP > SQL

/// CRIAR TABELA
CREATE TABLE CLIENTE 
(
    ID INT PRIMARY KEY AUTO_INCREMENT,
    NOME VARCHAR(60), // VARCHAR CARACTERES - NVARCHAR CARACTERES ESPECIAIS
    CPF CHAR(11), // NUMEROS
    EMAIL VARCHAR(70)
)

/// INSERIR DADOS NA TABELA
INSERT INTO `TABELA`(`ID`, `NOME`) VALUES ('[value-1]','[value-2]')

/// EDITAR DADOS DA TABELA
UPDATE `TABELA` SET `ID`='[value-1]',`NOME`='[value-2]' WHERE 1

/// EXCLUSÃO DE DADOS E TABELA
DELETE FROM `TABELA` WHERE 0 // EXCLUSÕES NÃO SÃO MUITO APROPRIADAS PARA TABELAS, APENAS PARA DADOS, PODE UTILIZAR O UPDATE.

/////// CRIAR TABELAS RELACIONADAS

CREATE TABLE CATEGORIAS
(
    ID INT PRIMARY KEY AUTO_INCREMENT,
    NOME VARCHAR(60)
)
/// INSERINDO CATEGORIA
INSERT INTO CATEGORIA (NOME) 
VALUES ('FRIOS')


CREATE TABLE PRODUTOS 
(
    ID PRIMARY KEY AUTO_INCREMENT, 
    DESCRICAO VARCHAR(50),
    QTDESTOQUE FLOAT NOT NULL,
    PRECO FLOAT NOT NULL,
    CATEGORIAID INT NOT NULL,
    FOREIGN KEY (CATEGORIAID) REFERENCES CATEGORIA (ID)     /// FAZ REFERENCIA A TABELA CATEGORIA, A NOSSA TEM 1 ID APENAS 'FRIOS'
)

CREATE TABLE VENDAS
(
    ID INT PRIMARY KEY AUTO_INCREMENT,
    DATAVENDA DATE NOT NULL,
    CLIENTEID INT NOT NULL,
    TOTALVENDA FLOAT NOT NULL,
    FOREIGN KEY (CLIENTEID) REFERENCES CLIENTES (ID) // CHAVE ESTRANGEIRA, UNICA DE CADA PRODUTO E NÃO SER APAGADA (RELACIONADA)
 )

CREATE TABLE ITENS_VENDAS
(
	IDPRODUTO INT NOT NULL,
    IDVENDA INT NOT NULL,
    VALORPRODUTO FLOAT NOT NULL,
    DESCONTO FLOAT NOT NULL,
    FOREIGN KEY (IDVENDA) REFERENCES VENDAS (ID),
    FOREIGN KEY (IDPRODUTO) REFERENCES PRODUTOS (ID),
    PRIMARY KEY (IDPRODUTO,IDVENDA)
)

//// CADASTRANDO 1 VENDA
INSERT INTO `VENDA`(`DATAVENDA`, `CLIENTEID`, `TOTALVENDA`) VALUES (2022-09-06,1,100)
//// CADASTRANDO INTENS VENDIDOS
INSERT INTO `itens_vendas`(`IDPRODUTO`, `IDVENDA`, `VALORPRODUTO`, `DESCONTO`) VALUES (1,2,5,10)
INSERT INTO `itens_vendas`(`IDPRODUTO`, `IDVENDA`, `VALORPRODUTO`, `DESCONTO`) VALUES (2,1,10,0)



/// PESQUISAR INFORMAÇÕES
SELECT ID PRECO,DESCRICAO FROM PRODUTOS 

SELECT * FROM `PRODUTOS` WHERE 1 // * SOLICITA TODAS AS COLUNAS DA TABELA

SELECT P.ID, P.DESCRICAO, P.PRECO, C.NOME  // SELECIONA COLUNAS DE VÁRIAS TABELAS USANDO O INNER JOIN
FROM PRODUTOS P INNER JOIN CATEGORIAS C 
	ON C.ID = P.CATEGORIAID            // "DIZER" QUAL A RELAÇÃO ENTRE UMA TABELA E A OUTRA, NESSE CASO SERIA O C.ID E P.CATEGORIAID

// USANDO FILTROS E OPERADORES LÓGICOS PARA EXIBIR OS DADOS

SELECT P.ID, P.DESCRICAO, P.PRECO,P.QTDESTOQUE, C.NOME 
FROM PRODUTOS P INNER JOIN CATEGORIAS C 
	ON C.ID = P.CATEGORIAID
WHERE P.PRECO < 10 OR P.QTDESTOQUE > 10  //UTILIZANDO OPERADORES LÓGICOS PARA FILTRAR OS RESULTADOS

/////AGRUPAMENTO E COORDENAÇÕES
INSERT INTO CATEGORIA (NOME) VALUES ('HIGIENE')
INSERT INTO CATEGORIA (NOME) VALUES ('BEBIDAS')
INSERT INTO `produtos`(`DESCRICAO`, `QUANTIDADE`, `PREÇO`, `CATEGORIAID`) VALUES ('SABAO',15,5,2)
INSERT INTO `produtos`(`DESCRICAO`, `QUANTIDADE`, `PREÇO`, `CATEGORIAID`) VALUES ('SUCO',20,10,3)

SELECT COUNT(P.ID), C.NOME 
FROM PRODUTOS P INNER JOIN CATEGORIA C
ON P.CATEGORIAID = C.ID
GROUP BY P.CATEGORIAID  ///MOSTRA QUANTOS PRODUTOS POR CATEGORIA


SELECT * FROM PRODUTOS ORDER BY PRECO // MOSTRA PRODUTOS ORDENADOS POR PREÇO
SELECT * FROM PRODUTOS ORDER BY----- POR DESCRIÇÃO, POR PREÇO, POR ID

